[tox]
envlist=cov-init,pyflakes,py27,py35,cov-report

[testenv]
usedevelop=true
deps=-rrequirements.txt
    pytest
    pytest-cov
setenv =
    COVERAGE_FILE = .coverage.{envname}
commands=py.test --cov-report= --cov=sci_parameter_utils {posargs}

[testenv:pyflakes]
deps=
    pytest
    pytest-flakes
commands=py.test --flakes -m flakes

[testenv:cov-init]
setenv =
    COVERAGE_FILE = .coverage
deps = coverage
commands =
    coverage erase

[testenv:cov-report]
setenv =
    COVERAGE_FILE = .coverage
deps = coverage
commands =
    coverage combine
    coverage report -m
